## 特徵處理說明
以下再經過簡單的資料探索後，搭配詢問信用卡欄位的一些領域知識，所討論出的九項新增欄位資料，其中包含原始卡號的交易模式靜態描述，以及對於新增樣本的動態交易描述。
以下將簡述新增特徵的目的以及實現方法：

## 步驟 1: 計算交易活動

### 目的
- 計算每張卡的靜態交易次數及其在相應客戶所有交易中的比例。
- 這有助於識別每張卡在客戶活動中的重要性和使用頻率。

### 實現方法
- 通過分組 `groupby` 函數按 `chid` (客戶ID) 和 `cano` (卡號) 分組，計算每組的交易次數。
- 計算每個客戶的總交易次數，並計算每張卡的交易次數佔總交易次數的比例。

## 步驟 2: 計算卡號每日交易頻率並進行正規化

### 目的
- 瞭解每張卡每天的使用頻率。
- 通過正規化處理這些數據，使其更適合進行模型分析。

### 實現方法
- 計算每張卡每天的交易次數，並找出每張卡的最大和最小日交易次數。
- 對每日交易次數進行正規化，使數據處於相同的量度範圍。

## 步驟 3: 計算卡號每日交易金額並進行正規化

### 目的
- 了解每張卡每天的消費金額。
- 這有助於識別消費模式。

### 實現方法
- 計算每張卡每天的總交易金額，並找出每張卡的最大和最小日交易金額。
- 對每日交易金額進行正規化，以便於比較未來卡號的消費行為。

## 步驟 4: 計算交易間的時間差

### 目的
- 確定每筆交易與上一筆交易之間的時間間隔。
- 這有助於識別交易頻率和可能的異常模式。

### 實現方法
- 將交易時間從原始格式轉換為標準時間格式。
- 計算每筆交易與前一筆交易之間的時間差異（以秒為單位）。

## 步驟 5: 計算不同日子間交易頻率的平均值和標準差

### 目的
- 分析每張卡在不同日子之間的交易頻率變化。
- 有助於識別交易行為的一致性或異常。

### 實現方法
- 計算每張卡在不同日子之間交易時間的差異（以秒為單位）。
- 進一步計算這些時間差異的平均值和標準差。

## 步驟 6: 分析每張卡在不同商品類別下的交易情況

### 目的
- 瞭解每張卡在不同商品類別（MCC）下的交易頻次、總交易金額和交易金額的變異性。

### 實現方法
- 計算每張卡在每個商品類別下的交易次數、總交易金額和交易金額的標準差。
- 這有助於識別特定類別的消費習慣和潛在異常交易模式。

## 步驟 7: 觀察交易註記變化

### 目的
- 檢測支付型態和3D安全驗證的變化。
- 這有助於識別潛在的欺詐活動或異常使用模式。

### 實現方法
- 計算每筆交易相比於前一筆交易在支付型態（hcefg）和3D安全驗證（flg_3dsmk）上的變化。
- 這些變化可能暗示著卡片使用行為的重大改變。
  
## 步驟 8: 觀察交易地點變化

### 目的
- 分析交易發生的地理位置變化。
- 用於識別不尋常的地理遷移模式，可能與欺詐有關。

### 實現方法
- 計算每筆交易在城市（scity）和國家（stocn）層面的地理位置變化。
- 這有助於識別卡片是否在異常或不尋常的地理位置被使用。

## 步驟 9: 把loctm拆成鐘點

### 目的
- 瞭解交易發生的具體時段。
- 這有助於識別特定時段的交易模式或異常。

### 實現方法
- 將交易時間轉換為小時和秒數，以便進一步分析交易發生的時段。
- 這可以揭示是否存在特定時間的異常交易行為，例如夜間或凌晨時段的不尋常交易。
